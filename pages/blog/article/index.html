<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="index,follow">
  <meta name="description" content="JavaScript State 2022">
  <link rel="icon" type="image/svg" href="../../../assets/icons/image2vector+(1).svg">
  <link rel="stylesheet" href="../../../assets/icons/style.css">
  <link rel="stylesheet" href="../../../common/styles/global.css">
  <link rel="stylesheet" href="../../../common/styles/tablet.css" media="(min-width: 688px)">
  <link rel="stylesheet" href="../../../common/styles/desktop.css" media="(min-width: 1012px)">
  <link rel="stylesheet" href="./styles/styles.css">
  <link rel="stylesheet" href="./styles/desktop.css" media="(min-width: 1012px)">
  <link rel="stylesheet" href="./styles/article-content.css">
  <title>Article</title>
</head>
<body>
  <div class="skip"><a href="#content">Skip to Main Content</a></div>

  <header class="header">
    <a href="../../../" class="logo">Carlos S. Aldazosa</a>

    <nav class="navbar">
      <button id="menu-icon" aria-label="button to show menu" class="menu icon-menu"></button>
      
      <div id="menu" class="menu-float">
        <div class="menu-float__head">
          <h3 class="menu-float__title">Menu</h3>
          <div class="menu-float__icons">
            <button id="theme" class="icon icon-moon" aria-label="Change theme"></button>
            <button id="menu-close" class="menu-close icon icon-cross"></button>
          </div>
        </div>
        
        <ul class="navbar-list">
          <li class="navbar-list__item">
            <a href="../" class="navbar-list__link">
              <span class="icon-blog"></span>
              Blog
            </a>
          </li>
  
          <li class="navbar-list__item">
            <a href="../../../" class="navbar-list__link">
              <span class="icon-computer"></span>
              Portfolio
            </a>
          </li>
        </ul>
      </div>
    </nav>
  </header>

  <main class="article-post">
      <div class="interaction">
        <a href="../" class="return" aria-label="Back to menu">
          <i class="icon-arrow-right"></i>
        </a>

        <ul class="share interaction__list">
          <li class="share__item link">
            <button id="clip-icon" class="button link icon-sm" aria-label="copy article link to share">
              <i class="icon-link"></i>
            </button>

            <dialog class="modal-copy" id="link-copied">
              <p>Copied!</p>
            </dialog>
          </li>

          <li class="social-media__item">
            <a href="#" class="social-media__link facebook" aria-label="share article on facebook">
              
            </a>
          </li>

          <li class="social-media__item ">
            <a href="#" class="social-media__link twitter" aria-label="share article on twitter">
              
            </a>
          </li>
  
          <li class="social-media__item ">
            <a href="#" class="social-media__link linkedin" aria-label="share article on linkedin">
              
            </a>
          </li>
        </ul>
      </div>

      <article class="article">
        <header class="article__header">
          <div class="article__data">
            <p class="article__date">August 29, 2022</p>
            <span>-</span>
            <p class="article__read-time">13 min read</p>
          </div>

          <ul class="article__tags">
            <li class="tag js">JavaScript</li>
            <li class="tag react">React</li>
          </ul>

          <h1 class="article__title">Understanding Event Propagation</h1>
        </header>
  
        <section class="content" id="content">
          Event Propagation is one of the things you may not have to worry about if you start learning about web development, but you should know how to use it once you start building complex web apps.
          <br> 
          At the end of the article, you will learn how DOM handles events and how to apply and take advantage of event propagation on your code. Let’s start!

          <h2>How DOM handles events.</h2>

          DOM reads your HTML like a <b>hierarchy tree</b>, where each node is an HTML element. In the following code, the <b>anchor</b> has an event that displays an alert saying “Hi!!”.
          
          <div class="code">
            <div class="buttons-container">
              <button class="code__button code__button--active" value="html">HTML</button>
              <button class="code__button" value="javascript">JavaScript</button>
            </div>

            <div class="code-container">
              <code class="code__element code__element--active code-html">
                <span class="code-line">
                  <span class="code-tag">&ltdiv</span> 
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"node"</span>
                  <span class="attribute">id</span><span class="sign">=</span><span class="string">"top-node"</span><span class="code-tag">&gt</span>
                  <span class="value">Top Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltdiv</span>
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"node"</span>
                  <span class="attribute">id</span><span class="sign">=</span><span class="string">"mid-node"</span><span class="code-tag">&gt</span>
                  <span class="value">Mid Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lta</span> <span class="attribute">class</span><span class="sign">=</span><span class="string">"node"</span>
                  <span class="attribute">id</span><span class="sign">=</span><span class="string">"bottom-node"</span>
                  <span class="attribute">href</span><span class="sign">=</span><span class="string">"https://www.youtube.com/watch?v=dQw4w9WgXcQ"</span>
                  <span class="attribute">target</span><span class="sign">=</span><span class="string">"_blank"</span><span class="code-tag">&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span>
                  <span class="value">Bottom Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/a&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/div&gt</span>
                </span>

                <span class="code-line">
                  <span class="code-tag">&lt/div&gt</span>
                </span>
              </code>
              
              <code class="code__element code-javascript">
                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="constant">anchor</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'#bottom-node'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="constant">anchor</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">sayHi</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">function</span>
                  <span class="method">sayHi</span><span class="wrapper">(</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">'Hi'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>
              </code>
            </div>
          </div>
          

          <div class="example" id="example-1">
            <div class="node top-node"> Top Node
              <div class="node mid-node"> Mid Node
                <a class="node bottom-node" href="#">
                  Bottom Node
                </a>
              </div>
            </div>
          </div>

          The HTML structure above in DOM will look like the following image. You may notice that every element is nested to each other, so to reach the anchor, you need to pass through every anchor’s parent.

          <picture>
            <img src="../../../assets/images/event-propagation-1.png" alt="DOM Representation of HTML elements" width="99px" height="363">
          </picture>

          The browser can go ahead with 1 of 2 phases:

          <ul>
            <li>
              <b>Capturing Phase</b> - the browser searches for events from the window and dives down to reach the event target.
            </li>

            <li>
              <b>Bubbling Phase</b> - the browser starts on the event target and Bubbles up to the window.
            </li>

            <li>
              There is the <b> Target Phase</b>, this always happens when an event is executed.
            </li>
          </ul>

          <h2>Capturing Phase</h2>

          The browser builds a path from the <b>window</b> to the <b>event target</b>, then goes through every node. Each node is analyzed, and there will be some steps to do before moving forward:

          <ul>
            <li>
              Check if there is an event or events. If yes, then execute it.
            </li>

            <li>
              Check if the node called an <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/stopPropagation"><code>event.stopPropagation()</code></a>  or <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/stopImmediatePropagation"><code>event.stopImmediatePropagation()</code></a>. If it was, stop the process, event target, or other nested events to not execute. If not, go to the next node.
            </li>
          </ul>

          <picture>
            <img src="../../../assets/images/event-propagation-2.png" alt="Representation of Capturing Phase">
          </picture>

          <h3>Example</h3>

          You are going to see event propagation with the capturing propagation. The structure will be the same as above, but some an URL to open a new page will be added to see how <b>default events</b> work in propagation.
          
          <div class="code">
            <div class="buttons-container">
              <button class="code__button code__button--active" value="html">HTML</button>
              <button class="code__button" value="javascript">JavaScript</button>
            </div>

            <div class="code-container">
              <code class="code__element code__element--active code-html">
                <span class="code-line">
                  <span class="code-tag">&ltdiv</span> 
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"node"</span>
                  <span class="attribute">id</span><span class="sign">=</span><span class="string">"top-node"</span><span class="code-tag">&gt</span>
                  <span class="value">Top Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltdiv</span>
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"node"</span>
                  <span class="attribute">id</span><span class="sign">=</span><span class="string">"mid-node"</span><span class="code-tag">&gt</span>
                  <span class="value">Mid Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lta</span> <span class="attribute">class</span><span class="sign">=</span><span class="string">"node"</span>
                  <span class="attribute">id</span><span class="sign">=</span><span class="string">"bottom-node"</span>
                  <span class="attribute">href</span><span class="sign">=</span><span class="string">"https://www.youtube.com/watch?v=dQw4w9WgXcQ"</span>
                  <span class="attribute">target</span><span class="sign">=</span><span class="string">"_blank"</span><span class="code-tag">&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span>
                  <span class="value">Bottom Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/a&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/div&gt</span>
                </span>

                <span class="code-line">
                  <span class="code-tag">&lt/div&gt</span>
                </span>
              </code>
              
              <code class="code__element code-javascript">
                <span class="code-line">
                  <span class="keyword">let</span>
                  <span class="variable">nodes</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelectorAll</span><span class="wrapper">(</span><span class="string">'.node'</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="variable">nodes</span>
                  <span class="sign">=</span>
                  <span class="wrapper-2">[</span><span class="spread">...</span><span class="variable">nodes</span><span class="wrapper-2">]</span><span class="other">;</span>
                </span>

                <br>

                <span class="comment">
                  // Add an event to the 3 elements to know its current phase
                </span>

                <span class="code-line">
                  <span class="variable">nodes</span><span class="other">.</span><span class="method">map</span><span class="wrapper">(</span>
                  <span class="af">node</span>
                  <span class="sign">=></span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Enabling Capturing Propagation - Disabling Bubbling Propagation
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="variable">node</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">showPhase</span><span class="other">,</span>
                  <span class="bool">true</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">function</span>
                  <span class="method">showPhase</span>
                  <span class="wrapper">(</span><span class="af">event</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">const</span>
                  <span class="constant">phase</span>
                  <span class="sign">=</span>
                  <span class="af">event</span><span class="other">.</span><span class="property">eventPhase</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">let</span>
                  <span class="variable">phaseName</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Validate phase type
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">1</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Capturing'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                  <span class="tab"></span><span class="keyword">else if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">2</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Target'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                  <span class="tab"></span><span class="keyword">else if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">3</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Bubbling'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">`</span><span class="sign">${</span><span class="variable">this</span><span class="other">.</span><span class="method-2">id</span><span class="wrapper">}</span><span class="string">:</span>
                  <span class="sign">${</span><span class="variable">phaseName</span><span class="wrapper">}</span>
                  <span class="string">Phase`</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="comment">
                    // Add main event
                  </span>
                </span>

                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="constant">anchor</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'#bottom-node'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="constant">anchor</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">sayHi</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">function</span>
                  <span class="method">sayHi</span><span class="wrapper">(</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">'Hi'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>
              </code>
            </div>
          </div>

          By default, the <code>addEventListener</code> parameter <code>useCapture</code> is <b>false</b>. To enable the capturing propagation and disable the bubbling one, just add the parameter true within the <code>addEventLister</code> after the <b>listener</b>. The <code>event.eventPhase()</code> will return 3 different values:
          <ul>
            <li>1 = Capturing Phase.</li>
            <li>2 = Target Phase.</li>
            <li>3 = Bubbling Phase.</li>
          </ul>

          Click one of the elements to see how Capturing Propagation works:

          <div class="example" id="example-2">
            <div class="node top-node"> Top Node
              <div class="node mid-node"> Mid Node
                <a class="node bottom-node" href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank">
                  Bottom Node
                </a>
              </div>
            </div>
          </div>

          <div class="note">
            After the <b>main event</b> is executed, the <b>default event</b> occurs.
          </div>


          <h2>Target Phase</h2>
          Once every parent has been checked, the event target occurs. This event has to be declared with the <code>onClick</code> attribute or with the <code>addEventListener()</code> method.

          <picture>
            <img src="../../../assets/images/event-propagation-3.png" alt="DOM Representation of HTML elements" width="174" height="441">
          </picture>

          This phase will always occur if there is no <code>event.stopPropagation()</code> or <code>event.stopImmediatePropagation()</code> to block it. During the Capturing Propagation, it will execute after the parent’s events, and during the Bubbling Propagation, it will execute before them. And always will be executed before the <b>default event</b>.

          <h2>Bubbling Phase</h2>
          When the event target executes its event, the browser goes all the way back to the path, checking each node with the same steps as the capturing one:

          <ul>
            <li>
              Check if there is an event or events. If yes, then execute it.
            </li>
            <li>
              Check if the node called an <code>event.stopPropagation()</code> or <code>event.stopImmediatePropagation()</code>. If it was, stop the process, event target, or other nested events to not execute. If not, go to the next node.
            </li>
          </ul>

          <picture>
            <img src="../../../assets/images/event-propagation-4.png" alt="DOM Representation of HTML elements" width="289" height="363">
          </picture>

          Looking at the structure, you can notice if you want to reach &lta&gt, you need to go through each parent, including the window and document.

          <h3>Example</h3>
          In the Bubbling Propagation, the event execution order goes backward. It starts with the <b>target event</b> and goes go towards the window. As the Bubbling Propagation is set by default, you don’t need to send an argument for the <code>useCapture</code> parameter, or you can set it to <b>false</b>. It is on you how to.

          <div class="code">
            <div class="buttons-container">
              <button class="code__button code__button--active" value="html">HTML</button>
              <button class="code__button" value="javascript">JavaScript</button>
            </div>

            <div class="code-container">
              <code class="code__element code__element--active code-html">
                <span class="code-line">
                  <span class="code-tag">&ltdiv</span> 
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"node"</span>
                  <span class="attribute">id</span><span class="sign">=</span><span class="string">"top-node"</span><span class="code-tag">&gt</span>
                  <span class="value">Top Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltdiv</span>
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"node"</span>
                  <span class="attribute">id</span><span class="sign">=</span><span class="string">"mid-node"</span><span class="code-tag">&gt</span>
                  <span class="value">Mid Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lta</span> <span class="attribute">class</span><span class="sign">=</span><span class="string">"node"</span>
                  <span class="attribute">id</span><span class="sign">=</span><span class="string">"bottom-node"</span>
                  <span class="attribute">href</span><span class="sign">=</span><span class="string">"https://www.youtube.com/watch?v=dQw4w9WgXcQ"</span>
                  <span class="attribute">target</span><span class="sign">=</span><span class="string">"_blank"</span><span class="code-tag">&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span>
                  <span class="value">Bottom Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/a&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/div&gt</span>
                </span>

                <span class="code-line">
                  <span class="code-tag">&lt/div&gt</span>
                </span>
              </code>
              
              <code class="code__element code-javascript">
                <span class="code-line">
                  <span class="keyword">let</span>
                  <span class="variable">nodes</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelectorAll</span><span class="wrapper">(</span><span class="string">'.node'</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="variable">nodes</span>
                  <span class="sign">=</span>
                  <span class="wrapper-2">[</span><span class="spread">...</span><span class="variable">nodes</span><span class="wrapper-2">]</span><span class="other">;</span>
                </span>

                <br>

                <span class="comment">
                  // Add an event to the 3 elements to know its current phase
                </span>

                <span class="code-line">
                  <span class="variable">nodes</span><span class="other">.</span><span class="method">map</span><span class="wrapper">(</span>
                  <span class="af">node</span>
                  <span class="sign">=></span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Enabling Bubbling Propagation - Disable Capturing Propagation
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="variable">node</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">showPhase</span><span class="other">,</span>
                  <span class="bool">false</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">function</span>
                  <span class="method">showPhase</span>
                  <span class="wrapper">(</span><span class="af">event</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">const</span>
                  <span class="constant">phase</span>
                  <span class="sign">=</span>
                  <span class="af">event</span><span class="other">.</span><span class="property">eventPhase</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">let</span>
                  <span class="variable">phaseName</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Validate phase type
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">1</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Capturing'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                  <span class="tab"></span><span class="keyword">else if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">2</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Target'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                  <span class="tab"></span><span class="keyword">else if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">3</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Bubbling'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">`</span><span class="sign">${</span><span class="variable">this</span><span class="other">.</span><span class="method-2">id</span><span class="wrapper">}</span><span class="string">:</span>
                  <span class="sign">${</span><span class="variable">phaseName</span><span class="wrapper">}</span>
                  <span class="string">Phase`</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="comment">
                    // Add main event
                  </span>
                </span>

                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="constant">anchor</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'#bottom-node'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="constant">anchor</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">sayHi</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">function</span>
                  <span class="method">sayHi</span><span class="wrapper">(</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">'Hi'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>
              </code>
            </div>
          </div>

          Click one of the elements to see how it works:

          <div class="example" id="example-3">
            <div class="node top-node"> Top Node
              <div class="node mid-node"> Mid Node
                <a class="node bottom-node" href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank">
                  Bottom Node
                </a>
              </div>
            </div>
          </div>

          <div class="note">
            Once the Bubbling Propagation ends, <b>the default event</b> of the event target will be triggered.
          </div>

          <h2>Stop Event Propagation</h2>
          <code>stopPropagation()</code>, <code>stopImmediatePropagation()</code> to stop a propagation you have to use one of these methods. The difference is that <code>stopPropagation()</code> stops the hierarchy propagation. It cancels any next node event (parents for bubbling and children for capturing). In the following examples, you can see how to stop propagation in both types of propagation.

          <h3>Example 1</h3>
          Using the <code>stopPropagation()</code> to stop a Capturing Propagation. The method is implemented on the <b>mid-node</b>.

          <div class="code">
            <div class="buttons-container">
              <button class="code__button code__button--active" value="html">HTML</button>
              <button class="code__button" value="javascript">JavaScript</button>
            </div>

            <div class="code-container">
              <code class="code__element code__element--active code-html">
                <span class="code-line">
                  <span class="code-tag">&ltdiv</span> 
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"node"</span>
                  <span class="attribute">id</span><span class="sign">=</span><span class="string">"top-node"</span><span class="code-tag">&gt</span>
                  <span class="value">Top Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltdiv</span>
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"node"</span>
                  <span class="attribute">id</span><span class="sign">=</span><span class="string">"mid-node"</span><span class="code-tag">&gt</span>
                  <span class="value">Mid Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lta</span> <span class="attribute">class</span><span class="sign">=</span><span class="string">"node"</span>
                  <span class="attribute">id</span><span class="sign">=</span><span class="string">"bottom-node"</span>
                  <span class="attribute">href</span><span class="sign">=</span><span class="string">"https://www.youtube.com/watch?v=dQw4w9WgXcQ"</span>
                  <span class="attribute">target</span><span class="sign">=</span><span class="string">"_blank"</span><span class="code-tag">&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span>
                  <span class="value">Bottom Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/a&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/div&gt</span>
                </span>

                <span class="code-line">
                  <span class="code-tag">&lt/div&gt</span>
                </span>
              </code>
              
              <code class="code__element code-javascript">
                <span class="code-line">
                  <span class="keyword">let</span>
                  <span class="variable">nodes</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelectorAll</span><span class="wrapper">(</span><span class="string">'.node'</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="variable">nodes</span>
                  <span class="sign">=</span>
                  <span class="wrapper-2">[</span><span class="spread">...</span><span class="variable">nodes</span><span class="wrapper-2">]</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="constant">div</span>
                  <span class="sign">=</span>
                  <span class="variable">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'#mid-node'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="variable">div</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">stopEvent</span><span class="other">,</span>
                  <span class="bool">true</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-lin">
                  <span class="keyword">function</span>
                  <span class="method">stopEvent</span><span class="wrapper">(</span><span class="af">event</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="comment">// Stop Propagation</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="af">event</span><span class="other">.</span><span class="method-2">stopPropagation()</span><span class="wrapper"></span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">'Here ends'</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>

                <br>

                <span class="comment">
                  // Add an event to the 3 elements to know its current phase
                </span>

                <span class="code-line">
                  <span class="variable">nodes</span><span class="other">.</span><span class="method">map</span><span class="wrapper">(</span>
                  <span class="af">node</span>
                  <span class="sign">=></span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Enabling Bubbling Propagation - Disable Capturing Propagation
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="variable">node</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">showPhase</span><span class="other">,</span>
                  <span class="bool">true</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">function</span>
                  <span class="method">showPhase</span>
                  <span class="wrapper">(</span><span class="af">event</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">const</span>
                  <span class="constant">phase</span>
                  <span class="sign">=</span>
                  <span class="af">event</span><span class="other">.</span><span class="property">eventPhase</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">let</span>
                  <span class="variable">phaseName</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Validate phase type
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">1</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Capturing'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                  <span class="tab"></span><span class="keyword">else if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">2</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Target'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                  <span class="tab"></span><span class="keyword">else if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">3</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Bubbling'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">`</span><span class="sign">${</span><span class="variable">this</span><span class="other">.</span><span class="method-2">id</span><span class="wrapper">}</span><span class="string">:</span>
                  <span class="sign">${</span><span class="variable">phaseName</span><span class="wrapper">}</span>
                  <span class="string">Phase`</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="comment">
                    // Add main event
                  </span>
                </span>

                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="constant">anchor</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'bottom-node'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="constant">anchor</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">sayHi</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">function</span>
                  <span class="method">sayHi</span><span class="wrapper">(</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">'Hi'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>
              </code>
            </div>
          </div>

          Click <b>bottom-node</b> to see what happens:

          <div class="example" id="example-4">
            <div class="node top-node"> Top Node
              <div class="node mid-node"> Mid Node
                <span class="node bottom-node" >
                  Bottom Node
                </span>
              </div>
            </div>
          </div>

          The alert for the <b>bottom-node</b> that is the <b>event target</b> is not executed because of the <code>stopPropagation()</code>. The <code>showPhase()</code> alert for <b>mid-node</b> is still displayed.

          <div class="note">
            The anchor URL was deleted to avoid continuous emerging rick rolls.
          </div>

          <h3>Example 2</h3>
          Using the <code>stopPropagation()</code> to stop a Bubbling Propagation. The method is implemented on <b>mid-node</b>.

          <div class="code">
            <div class="buttons-container">
              <button class="code__button code__button--active" value="html">HTML</button>
              <button class="code__button" value="javascript">JavaScript</button>
            </div>

            <div class="code-container">
              <code class="code__element code__element--active code-html">
                <span class="code-line">
                  <span class="code-tag">&ltdiv</span> 
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"node top-node"</span><span class="code-tag">&gt</span>
                  <span class="value">Top Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltdiv</span>
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"node mid-node"</span><span class="code-tag">&gt</span>
                  <span class="value">Mid Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lta</span> <span class="attribute">class</span><span class="sign">=</span><span class="string">"node bottom-node"</span>
                  <span class="attribute">href</span><span class="sign">=</span><span class="string">"https://www.youtube.com/watch?v=dQw4w9WgXcQ"</span>
                  <span class="attribute">target</span><span class="sign">=</span><span class="string">"_blank"</span><span class="code-tag">&gt</span>
                </span>
                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span>
                  <span class="value">Bottom Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/a&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/div&gt</span>
                </span>

                <span class="code-line">
                  <span class="code-tag">&lt/div&gt</span>
                </span>
              </code>
              
              <code class="code__element code-javascript">
                <span class="code-line">
                  <span class="keyword">let</span>
                  <span class="variable">nodes</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelectorAll</span><span class="wrapper">(</span><span class="string">'.node'</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="variable">nodes</span>
                  <span class="sign">=</span>
                  <span class="wrapper-2">[</span><span class="spread">...</span><span class="variable">nodes</span><span class="wrapper-2">]</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="constant">div</span>
                  <span class="sign">=</span>
                  <span class="variable">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'#mid-node'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="variable">div</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">stopEvent</span><span class="other">,</span>
                  <span class="bool">false</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-lin">
                  <span class="keyword">function</span>
                  <span class="method">stopEvent</span><span class="wrapper">(</span><span class="af">event</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="comment">// Stop Propagation</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="af">event</span><span class="other">.</span><span class="method-2">stopPropagation()</span><span class="wrapper"></span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">'Here ends'</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>

                <br>

                <span class="comment">
                  // Add an event to the 3 elements to know its current phase
                </span>

                <span class="code-line">
                  <span class="variable">nodes</span><span class="other">.</span><span class="method">map</span><span class="wrapper">(</span>
                  <span class="af">node</span>
                  <span class="sign">=></span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Enabling Bubbling Propagation - Disable Capturing Propagation
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="variable">node</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">showPhase</span><span class="other">,</span>
                  <span class="bool">false</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">function</span>
                  <span class="method">showPhase</span>
                  <span class="wrapper">(</span><span class="af">event</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">const</span>
                  <span class="constant">phase</span>
                  <span class="sign">=</span>
                  <span class="af">event</span><span class="other">.</span><span class="property">eventPhase</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">let</span>
                  <span class="variable">phaseName</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Validate phase type
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">1</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Capturing'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                  <span class="tab"></span><span class="keyword">else if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">2</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Target'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                  <span class="tab"></span><span class="keyword">else if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">3</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Bubbling'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">`</span><span class="sign">${</span><span class="variable">this</span><span class="other">.</span><span class="method-2">id</span><span class="wrapper">}</span><span class="string">:</span>
                  <span class="sign">${</span><span class="variable">phaseName</span><span class="wrapper">}</span>
                  <span class="string">Phase`</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="comment">
                    // Add main event
                  </span>
                </span>

                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="constant">anchor</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'bottom-node'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="constant">anchor</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">sayHi</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">function</span>
                  <span class="method">sayHi</span><span class="wrapper">(</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">'Hi'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>
              </code>
            </div>
          </div>

          Click <b>bottom-node</b> to see what happens:

          <div class="example" id="example-5">
            <div class="node top-node"> Top Node
              <div class="node mid-node"> Mid Node
                <span class="node bottom-node" >
                  Bottom Node
                </span>
              </div>
            </div>
          </div>

          <div class="note">
            The event bubbles until the <b>mid-node</b> events are executed 
          </div>
          The section alert does not occur because of the <code>stopPropagation()</code>. The <code>showPhase()</code> alert for the &ltdiv&gt is still displayed.

          <h3>Example 3</h3>
          Using the <code>stopImmediatePropagation()</code> to stop a Capturing Propagation. The method is implemented on the <b>mid-node</b>. 

          <div class="code">
            <div class="buttons-container">
              <button class="code__button code__button--active" value="html">HTML</button>
              <button class="code__button" value="javascript">JavaScript</button>
            </div>

            <div class="code-container">
              <code class="code__element code__element--active code-html">
                <span class="code-line">
                  <span class="code-tag">&ltdiv</span> 
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"node top-node"</span><span class="code-tag">&gt</span>
                  <span class="value">Top Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltdiv</span>
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"node mid-node"</span><span class="code-tag">&gt</span>
                  <span class="value">Mid Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lta</span> <span class="attribute">class</span><span class="sign">=</span><span class="string">"node bottom-node"</span>
                  <span class="attribute">href</span><span class="sign">=</span><span class="string">"https://www.youtube.com/watch?v=dQw4w9WgXcQ"</span>
                  <span class="attribute">target</span><span class="sign">=</span><span class="string">"_blank"</span><span class="code-tag">&gt</span>
                </span>
                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span>
                  <span class="value">Bottom Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/a&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/div&gt</span>
                </span>

                <span class="code-line">
                  <span class="code-tag">&lt/div&gt</span>
                </span>
              </code>
              
              <code class="code__element code-javascript">
                <span class="code-line">
                  <span class="keyword">let</span>
                  <span class="variable">nodes</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelectorAll</span><span class="wrapper">(</span><span class="string">'.node'</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="variable">nodes</span>
                  <span class="sign">=</span>
                  <span class="wrapper-2">[</span><span class="spread">...</span><span class="variable">nodes</span><span class="wrapper-2">]</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="constant">div</span>
                  <span class="sign">=</span>
                  <span class="variable">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'#mid-node'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="variable">div</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">stopEvent</span><span class="other">,</span>
                  <span class="bool">true</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-lin">
                  <span class="keyword">function</span>
                  <span class="method">stopEvent</span><span class="wrapper">(</span><span class="af">event</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="comment">// Stop Propagation</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="af">event</span><span class="other">.</span><span class="method-2">stopImmediatePropagation()</span><span class="wrapper"></span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">'Here ends'</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>

                <br>

                <span class="comment">
                  // Add an event to the 3 elements to know its current phase
                </span>

                <span class="code-line">
                  <span class="variable">nodes</span><span class="other">.</span><span class="method">map</span><span class="wrapper">(</span>
                  <span class="af">node</span>
                  <span class="sign">=></span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Enabling Bubbling Propagation - Disable Capturing Propagation
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="variable">node</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">showPhase</span><span class="other">,</span>
                  <span class="bool">true</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">function</span>
                  <span class="method">showPhase</span>
                  <span class="wrapper">(</span><span class="af">event</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">const</span>
                  <span class="constant">phase</span>
                  <span class="sign">=</span>
                  <span class="af">event</span><span class="other">.</span><span class="property">eventPhase</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">let</span>
                  <span class="variable">phaseName</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Validate phase type
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">1</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Capturing'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                  <span class="tab"></span><span class="keyword">else if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">2</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Target'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                  <span class="tab"></span><span class="keyword">else if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">3</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Bubbling'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">`</span><span class="sign">${</span><span class="variable">this</span><span class="other">.</span><span class="method-2">id</span><span class="wrapper">}</span><span class="string">:</span>
                  <span class="sign">${</span><span class="variable">phaseName</span><span class="wrapper">}</span>
                  <span class="string">Phase`</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="comment">
                    // Add main event
                  </span>
                </span>

                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="constant">anchor</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'bottom-node'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="constant">anchor</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">sayHi</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">function</span>
                  <span class="method">sayHi</span><span class="wrapper">(</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">'Hi'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>
              </code>
            </div>
          </div>

          Click <b>bottom-node</b> to see what happens:

          <div class="example" id="example-6">
            <div class="node top-node"> Top Node
              <div class="node mid-node"> Mid Node
                <span class="node bottom-node" >
                  Bottom Node
                </span>
              </div>
            </div>
          </div>

          <div class="note">
            The event drills down until the <b>mid-node</b> event is executed, the <b>bottom-node</b> alert does not occur.
          </div>

          The <code>showPhase()</code> alert of the <b>mid-node</b> is not displayed anymore because of the <code>stopImmediatePropagation()</code>.

          <h3>Example 4</h3>
          Using the <code>stopImmediatePropagation()</code> to stop a Bubbling Propagation. The method is implemented on the <b>mid-node</b>.

          <div class="code">
            <div class="buttons-container">
              <button class="code__button code__button--active" value="html">HTML</button>
              <button class="code__button" value="javascript">JavaScript</button>
            </div>

            <div class="code-container">
              <code class="code__element code__element--active code-html">
                <span class="code-line">
                  <span class="code-tag">&ltdiv</span> 
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"node top-node"</span><span class="code-tag">&gt</span>
                  <span class="value">Top Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltdiv</span>
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"node mid-node"</span><span class="code-tag">&gt</span>
                  <span class="value">Mid Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lta</span> <span class="attribute">class</span><span class="sign">=</span><span class="string">"node bottom-node"</span>
                  <span class="attribute">href</span><span class="sign">=</span><span class="string">"https://www.youtube.com/watch?v=dQw4w9WgXcQ"</span>
                  <span class="attribute">target</span><span class="sign">=</span><span class="string">"_blank"</span><span class="code-tag">&gt</span>
                </span>
                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span>
                  <span class="value">Bottom Node</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/a&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/div&gt</span>
                </span>

                <span class="code-line">
                  <span class="code-tag">&lt/div&gt</span>
                </span>
              </code>
              
              <code class="code__element code-javascript">
                <span class="code-line">
                  <span class="keyword">let</span>
                  <span class="variable">nodes</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelectorAll</span><span class="wrapper">(</span><span class="string">'.node'</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="variable">nodes</span>
                  <span class="sign">=</span>
                  <span class="wrapper-2">[</span><span class="spread">...</span><span class="variable">nodes</span><span class="wrapper-2">]</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="constant">div</span>
                  <span class="sign">=</span>
                  <span class="variable">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'#mid-node'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="variable">div</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">stopEvent</span><span class="other">,</span>
                  <span class="bool">false</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-lin">
                  <span class="keyword">function</span>
                  <span class="method">stopEvent</span><span class="wrapper">(</span><span class="af">event</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="comment">// Stop Propagation</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="af">event</span><span class="other">.</span><span class="method-2">stopImmediatePropagation()</span><span class="wrapper"></span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">'Here ends'</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>

                <br>

                <span class="comment">
                  // Add an event to the 3 elements to know its current phase
                </span>

                <span class="code-line">
                  <span class="variable">nodes</span><span class="other">.</span><span class="method">map</span><span class="wrapper">(</span>
                  <span class="af">node</span>
                  <span class="sign">=></span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Enabling Bubbling Propagation - Disable Capturing Propagation
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="variable">node</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">showPhase</span><span class="other">,</span>
                  <span class="bool">false</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">function</span>
                  <span class="method">showPhase</span>
                  <span class="wrapper">(</span><span class="af">event</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">const</span>
                  <span class="constant">phase</span>
                  <span class="sign">=</span>
                  <span class="af">event</span><span class="other">.</span><span class="property">eventPhase</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">let</span>
                  <span class="variable">phaseName</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Validate phase type
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">1</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Capturing'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                  <span class="tab"></span><span class="keyword">else if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">2</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Target'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                  <span class="tab"></span><span class="keyword">else if</span>
                  <span class="wrapper">(</span><span class="constant">phase</span>
                  <span class="sign">===</span>
                  <span class="number">3</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="variable">phaseName</span>
                  <span class="sign">=</span>
                  <span class="string">'Bubbling'</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="wrapper">}</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">`</span><span class="sign">${</span><span class="variable">this</span><span class="other">.</span><span class="method-2">id</span><span class="wrapper">}</span><span class="string">:</span>
                  <span class="sign">${</span><span class="variable">phaseName</span><span class="wrapper">}</span>
                  <span class="string">Phase`</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="comment">
                    // Add main event
                  </span>
                </span>

                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="constant">anchor</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'bottom-node'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="constant">anchor</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">sayHi</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">function</span>
                  <span class="method">sayHi</span><span class="wrapper">(</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">alert</span><span class="wrapper">(</span><span class="string">'Hi'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>
              </code>
            </div>
          </div>

          Click <b>bottom-node</b> to see what happens:

          <div class="example" id="example-7">
            <div class="node top-node"> Top Node
              <div class="node mid-node"> Mid Node
                <span class="node bottom-node" >
                  Bottom Node
                </span>
              </div>
            </div>
          </div>

          <div class="note">
            The event Bubbles until the <b>mid-node</b> events are executed, and the <b>top-node</b> alert does not occur.
          </div>
          
          The <code>showPhase()</code> of <b>mid-node</b> is not displayed anymore.

          <h2>Use Cases</h2>
          Maybe you are wondering when to use all of this. To be honest, there are not as many use cases for these concepts as are for Event Propagation, etc. But, your tool kit to create solutions has won a great tool. To apply propagation and how to stop it. You will see 2 use cases.

          <br><br>

          <div class="note">
            The following use cases can have a better solution without too much code and good practices, but we solve them with Event Propagation for the sake of the article.
          </div>

          <h3>Watch List</h3>
          In this use case, we got a list item that contains a <code>&ltspan&gt</code> and a <code>&ltbutton&gt</code>. We added an event to open the series trailer once the <b>list item</b> is clicked. Also, a click event was added to the button to check the series you watched.

          <div class="code">
            <div class="buttons-container">
              <button class="code__button code__button--active" value="html">HTML</button>
              <button class="code__button" value="javascript">JavaScript</button>
            </div>

            <div class="code-container">
              <code class="code__element code__element--active code-html">
                <span class="code-line">
                  <span class="code-tag">&lth1&gt</span><span class="value">Watch List</span><span class="code-tag">&lt/h1&gt</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="ta"></span><span class="code-tag">&ltul</span>
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"list"</span><span class="code-tag">></span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltli&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltspan&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Game of Thrones</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/span&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltbutton</span>
                  <span class="attribute">type</span><span class="sign">=</span><span class="string">"submit"</span><span class="code-tag">></span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Check</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><code class="code-tag">&lt/button&gt</code>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/li&gt</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltli&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltspan&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Daredevil</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/span&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltbutton</span>
                  <span class="attribute">type</span><span class="sign">=</span><span class="string">"submit"</span><span class="code-tag">></span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Check</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><code class="code-tag">&lt/button&gt</code>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/li&gt</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltli&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltspan&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Brooklyn 99</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/span&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltbutton</span>
                  <span class="attribute">type</span><span class="sign">=</span><span class="string">"submit"</span><span class="code-tag">></span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Check</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><code class="code-tag">&lt/button&gt</code>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/li&gt</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltli&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltspan&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Breaking Bad</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/span&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltbutton</span>
                  <span class="attribute">type</span><span class="sign">=</span><span class="string">"submit"</span><span class="code-tag">></span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Check</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><code class="code-tag">&lt/button&gt</code>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/li&gt</span>
                </span>

                <span class="code-line">
                  <span class="code-tag">&lt/ul&gt</span>
                </span>
              </code>
              
              <code class="code__element code-javascript">
                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="variable">items</span>
                  <span class="sign">=</span>
                  <span class="wrapper-2">[</span><span class="spread">...</span><span class="constant">document</span><span class="other">.</span><span class="method">querySelectorAll</span><span class="wrapper">(</span><span class="string">'li'</span><span class="wrapper">)</span><span class="wrapper-2">]</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="comment">
                    // Add event to every list item
                  </span>
                </span>

                <span class="code-line">
                  <span class="variable">items</span><span class="other">.</span><span class="method">map</span><span class="wrapper">(</span>
                  <span class="af">item</span>
                  <span class="sign">=></span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="variable">item</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">seeTrailer</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-lin">
                  <span class="keyword">function</span>
                  <span class="method">seeTrailer</span><span class="wrapper">()</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Open trailer
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">window</span><span class="other">.</span><span class="method">open</span><span class="wrapper">(</span><span class="string">'https://www.youtube.com/watch?v=KPLWWIOCOOQ'</span><span class="other">,</span>
                  <span class="string">''</span><span class="other">,</span>
                  <span class="string">'width=600,height=340'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="variable">buttons</span>
                  <span class="sign">=</span>
                  <span class="wrapper-2">[</span><span class="spread">...</span><span class="constant">document</span><span class="other">.</span><span class="method">querySelectorAll</span><span class="wrapper">(</span><span class="string">'button'</span><span class="wrapper">)</span><span class="wrapper-2">]</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="comment">
                    // Add event to every button
                  </span>
                </span>

                <span class="code-line">
                  <span class="variable">buttons</span><span class="other">.</span><span class="method">map</span><span class="wrapper">(</span>
                  <span class="af">button</span>
                  <span class="sign">=></span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="variable">button</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">checkItem</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">function</span>
                  <span class="method">checkItem</span><span class="wrapper">(</span><span class="af">event</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Open trailer
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">const</span>
                  <span class="constant">item</span>
                  <span class="sign">=</span>
                  <span class="variable">this</span><span class="other">.</span><span class="property">parentElement</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="constant">item</span><span class="other">.</span><span class="property">classList</span><span class="other">.</span><span class="method">toggle</span><span class="wrapper">(</span><span class="string">'list--check'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>
              </code>
            </div>
          </div>

          Click any place inside the <b>list item</b> to open the trailer and try to check it:

          <div class="use-case" id="use-case-1">
            <h3>Watch List</h3>

            <ul class="list">
              <li>
                <span>
                  Game of Thrones
                </span>
                <button type="submit">
                  Check
                </button>
              </li>

              <li>
                <span>
                  Daredevil
                </span>
                <button type="submit">
                  Check
                </button>
              </li>

              <li>
                <span>
                  Brooklyn 99
                </span>
                <button type="submit">
                  Check
                </button>
              </li>

              <li>
                <span>
                  Breaking Bad
                </span>
                <button type="submit">
                  Check
                </button>
              </li>
            </ul>
          </div>

          To solve it we just need to add the stopPropagation() method.

          <div class="code">
            <div class="buttons-container">
              <button class="code__button code__button--active" value="html">HTML</button>
              <button class="code__button" value="javascript">JavaScript</button>
            </div>

            <div class="code-container">
              <code class="code__element code__element--active code-html">
                <span class="code-line">
                  <span class="code-tag">&lth1&gt</span><span class="value">Watch List</span><span class="code-tag">&lt/h1&gt</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="ta"></span><span class="code-tag">&ltul</span>
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"list"</span><span class="code-tag">></span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltli&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltspan&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Game of Thrones</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/span&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltbutton</span>
                  <span class="attribute">type</span><span class="sign">=</span><span class="string">"submit"</span><span class="code-tag">></span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Check</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><code class="code-tag">&lt/button&gt</code>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/li&gt</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltli&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltspan&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Daredevil</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/span&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltbutton</span>
                  <span class="attribute">type</span><span class="sign">=</span><span class="string">"submit"</span><span class="code-tag">></span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Check</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><code class="code-tag">&lt/button&gt</code>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/li&gt</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltli&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltspan&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Brooklyn 99</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/span&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltbutton</span>
                  <span class="attribute">type</span><span class="sign">=</span><span class="string">"submit"</span><span class="code-tag">></span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Check</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><code class="code-tag">&lt/button&gt</code>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/li&gt</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltli&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltspan&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Breaking Bad</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/span&gt</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltbutton</span>
                  <span class="attribute">type</span><span class="sign">=</span><span class="string">"submit"</span><span class="code-tag">></span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="value">Check</span>
                </span>

                <span class="code-line">
                  <span class="ta"></span><span class="tab"></span><span class="tab"></span><code class="code-tag">&lt/button&gt</code>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/li&gt</span>
                </span>

                <span class="code-line">
                  <span class="code-tag">&lt/ul&gt</span>
                </span>
              </code>
              
              <code class="code__element code-javascript">
                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="variable">items</span>
                  <span class="sign">=</span>
                  <span class="wrapper-2">[</span><span class="spread">...</span><span class="constant">document</span><span class="other">.</span><span class="method">querySelectorAll</span><span class="wrapper">(</span><span class="string">'li'</span><span class="wrapper">)</span><span class="wrapper-2">]</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="comment">
                    // Add event to every list item
                  </span>
                </span>

                <span class="code-line">
                  <span class="variable">items</span><span class="other">.</span><span class="method">map</span><span class="wrapper">(</span>
                  <span class="af">item</span>
                  <span class="sign">=></span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="variable">item</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">seeTrailer</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-lin">
                  <span class="keyword">function</span>
                  <span class="method">seeTrailer</span><span class="wrapper">()</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Open trailer
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="method-2">window</span><span class="other">.</span><span class="method">open</span><span class="wrapper">(</span><span class="string">'https://www.youtube.com/watch?v=KPLWWIOCOOQ'</span><span class="other">,</span>
                  <span class="string">''</span><span class="other">,</span>
                  <span class="string">'width=600,height=340'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="variable">buttons</span>
                  <span class="sign">=</span>
                  <span class="wrapper-2">[</span><span class="spread">...</span><span class="constant">document</span><span class="other">.</span><span class="method">querySelectorAll</span><span class="wrapper">(</span><span class="string">'button'</span><span class="wrapper">)</span><span class="wrapper-2">]</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="comment">
                    // Add event to every button
                  </span>
                </span>

                <span class="code-line">
                  <span class="variable">buttons</span><span class="other">.</span><span class="method">map</span><span class="wrapper">(</span>
                  <span class="af">button</span>
                  <span class="sign">=></span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="variable">button</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">checkItem</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="keyword">function</span>
                  <span class="method">checkItem</span><span class="wrapper">(</span><span class="af">event</span><span class="wrapper">)</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="af">event</span><span class="other">.</span><span class="method-2">stopPropagation()</span><span class="other">;</span> <span class="comment">// &lt-- Solution<span>
                </span>

                <span class="code-line">
                  <span class="tab"></span>
                  <span class="comment">
                    // Open trailer
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="keyword">const</span>
                  <span class="constant">item</span>
                  <span class="sign">=</span>
                  <span class="variable">this</span><span class="other">.</span><span class="property">parentElement</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="constant">item</span><span class="other">.</span><span class="property">classList</span><span class="other">.</span><span class="method">toggle</span><span class="wrapper">(</span><span class="string">'list--check'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>
              </code>
            </div>
          </div>

          Click any place inside the <b>list item</b> to open the trailer and check a series:

          <div class="use-case" id="use-case-2">
            <h3>Watch List</h3>

            <ul class="list">
              <li>
                <span>
                  Game of Thrones
                </span>
                <button type="submit">
                  Check
                </button>
              </li>

              <li>
                <span>
                  Daredevil
                </span>
                <button type="submit">
                  Check
                </button>
              </li>

              <li>
                <span>
                  Brooklyn 99
                </span>
                <button type="submit">
                  Check
                </button>
              </li>

              <li>
                <span>
                  Breaking Bad
                </span>
                <button type="submit">
                  Check
                </button>
              </li>
            </ul>
          </div>

          <h3>Modal</h3>
          We can add a fancy modal that only disappears if the background is clicked. First, we add an event to the button to toggle the modal, and then we add the same event to the <b>modal container</b> to toggle it.

          <div class="code">
            <div class="buttons-container">
              <button class="code__button code__button--active" value="html">HTML</button>
              <button class="code__button" value="javascript">JavaScript</button>
            </div>

            <div class="code-container">
              <code class="code__element code__element--active code-html">
                <span class="code-line">
                  <span class="code-tag">&ltdiv&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lth1&gt</span><span class="value">Click the button to open the modal</span><span class="code-tag">&lt/h1&gt</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltbutton</span>
                  <span class="attribute">type</span><span class="sign">=</span><span class="string">"button"</span><span class="code-tag">></span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="value">Modal</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/button&gt</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltdiv&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&ltspan</span>
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"modal"</span><span class="code-tag">></span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltp&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="tab"></span>
                  <span class="value">
                    Touch any place out of the modal to close it
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/p&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/span&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/div&gt</span>
                </span>
                <span class="code-line">
                  <span class="code-tag">&lt/div&gt</span>
                </span>
              </code>
              
              <code class="code__element code-javascript">
                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="variable">button</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'button'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="variable">modalContainer</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'div'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="comment">
                    // Show modal
                  </span>
                </span>

                <span class="code-line">
                  <span class="variable">button</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">toggleModal</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-lin">
                  <span class="keyword">function</span>
                  <span class="method">toggleModal</span><span class="wrapper">()</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="constant">modalContainer</span><span class="other">.</span><span class="property">classList</span><span>.</span><span class="method">toggle</span><span class="wrapper">(</span><span class="string">'active-div'</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>

                <span class="code-line">
                  <span class="comment">
                    // Hide modal
                  </span>
                </span>

                <span class="code-line">
                  <span class="variable">modalContainer</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">toggleModal</span><span class="wrapper">)</span><span class="other">;</span>
                </span>
              </code>
            </div>
          </div>

          Click the button and try click whitin the modal to see if it stays open:

          <div class="use-case" id="use-case-3">
            <h3>Click the button to open the modal</h3>
            
            <button type="button">
              Modal
            </button>
            
            <div>
              <span class="modal">
                <p>
                  Click in or out of the modal to close it.
                </p>
              </span>
            </div>
          </div>

          Wait a minute. This works even if you click within the modal. This is not the behavior we want. To fix it, we can add an event to the modal to stop the Bubbling Propagation.

          <div class="code">
            <div class="buttons-container">
              <button class="code__button code__button--active" value="html">HTML</button>
              <button class="code__button" value="javascript">JavaScript</button>
            </div>

            <div class="code-container">
              <code class="code__element code__element--active code-html">
                <span class="code-line">
                  <span class="code-tag">&ltdiv&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lth1&gt</span><span class="value">Click the button to open the modal</span><span class="code-tag">&lt/h1&gt</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltbutton</span>
                  <span class="attribute">type</span><span class="sign">=</span><span class="string">"button"</span><span class="code-tag">></span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="value">Modal</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/button&gt</span>
                </span>

                <br>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&ltdiv&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&ltspan</span>
                  <span class="attribute">class</span><span class="sign">=</span><span class="string">"modal"</span><span class="code-tag">></span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&ltp&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="tab"></span>
                  <span class="value">
                    Touch any place out of the modal to close it
                  </span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/p&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="tab"></span><span class="code-tag">&lt/span&gt</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="code-tag">&lt/div&gt</span>
                </span>
                <span class="code-line">
                  <span class="code-tag">&lt/div&gt</span>
                </span>
              </code>
              
              <code class="code__element code-javascript">
                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="variable">button</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'button'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="variable">modalContainer</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'div'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>
                
                <span class="code-line">
                  <span class="keyword">const</span>
                  <span class="variable">modal</span>
                  <span class="sign">=</span>
                  <span class="constant">document</span><span class="other">.</span><span class="method">querySelector</span><span class="wrapper">(</span><span class="string">'.modal'</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="comment">
                    // Show modal
                  </span>
                </span>

                <span class="code-line">
                  <span class="variable">button</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">toggleModal</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <br>

                <span class="code-lin">
                  <span class="keyword">function</span>
                  <span class="method">toggleModal</span><span class="wrapper">()</span>
                  <span class="wrapper">{</span>
                </span>

                <span class="code-line">
                  <span class="tab"></span><span class="constant">modalContainer</span><span class="other">.</span><span class="property">classList</span><span class="ot">.</span><span class="method">toggle</span><span class="wrapper">(</span><span class="string">'active-div'</span><span class="wrapper">)</span>
                </span>

                <span class="code-line">
                  <span class="wrapper">}</span>
                </span>

                <span class="code-line">
                  <span class="comment">
                    // Hide modal
                  </span>
                </span>

                <span class="code-line">
                  <span class="variable">modalContainer</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="method">toggleModal</span><span class="wrapper">)</span><span class="other">;</span>
                </span>

                <span class="code-line">
                  <span class="variable">modal</span><span class="other">.</span><span class="method">addEventListener</span><span class="wrapper">(</span><span class="string">'click'</span><span class="other">,</span>
                  <span class="af">event =></span>
                  <span class="af">event</span><span class="other">.</span><span class="method-2">stopPropagation()</span><span class="wrapper">)</span><span class="other">;</span>
                  <span class="comment">
                    //&lt--Solution
                  </span>
                </span>
              </code>
            </div>
          </div>

          Click the button and click out the modal to close it:

          <div class="use-case" id="use-case-4">
            <h3>Click the button to open the modal</h3>
            
            <button type="button">
              Modal
            </button>
            
            <div>
              <span class="modal">
                <p>
                  Touch any place out of the modal to close it
                </p>
              </span>
            </div>
          </div>

          It is Done! You learned how DOM manages events with propagation, building a path to the event target, looking for events or stop event methods in 2 different phases, top to bottom for Capturing and upside down for Bubbling Propagation. You can now stop propagation and create divergent behaviors and effects in your web apps.

          <br><br>
          
          Thanks for reading! If you got any advice to improve the article, find mistakes, or just want to talk, you can turn up my social media and a form to contact me <a href="../../../">here</a>.
        </section>
      </article>
  </main>

  <footer class="footer">
    <div class="footer-container">
      <ul class="social-media">
        <li class="social-media__item" >
          <a aria-label="Linkedin Page" class="social-media__link linkedin" href="https://www.linkedin.com/in/carlos-sanjines-aldazosa/">
          </a>
        </li>

        <li class="social-media__item" >
          <a aria-label="Github Page" class="social-media__link github" href="https://github.com/monoald">
          </a>
        </li>

        <li class="social-media__item" >
          <a aria-label="Twitter Page" class="social-media__link twitter" href="https://twitter.com/monoald">
          </a>
        </li>
      </ul>

      <a href="../../../" class="logo">Carlos S. Aldazosa</a>

      <p class="greetings">Thanks for your visit!</p>
    
      <ul class="menu-list">
        <li class="menu-list__title">General</li>

        <li class="menu-list__item">
          <a href="../" class="menu-list__link">Blog</a>
        </li>

        <li class="menu-list__item">
          <a href="../../../" class="menu-list__link">Portfolio</a>
        </li>
      </ul>
      
      <p class="license">© 2022 Carlos S. Aldazosa - All Rights Reserved.</p>
    </div>
  </footer>

  <script src="../../../utils/setTheme.js"></script>
  <!-- <script type="module" src="./main.js"></script> -->
  <script type="module" src="../../../main.js"></script>
  <script type="module" src="../../../utils/toggleCode.js" ></script>
  <script type="module" src="./dinamic-examples/example-1.js"></script>
  <script type="module" src="./dinamic-examples/example-2.js"></script>
  <script type="module" src="./dinamic-examples/example-3.js"></script>
  <script type="module" src="./dinamic-examples/example-4.js"></script>
  <script type="module" src="./dinamic-examples/example-5.js"></script>
  <script type="module" src="./dinamic-examples/example-6.js"></script>
  <script type="module" src="./dinamic-examples/example-7.js"></script>
  <script type="module" src="./dinamic-examples/use-case-1.js"></script>
  <script type="module" src="./dinamic-examples/use-case-2.js"></script>
  <script type="module" src="./dinamic-examples/use-case-3.js"></script>
  <script type="module" src="./dinamic-examples/use-case-4.js"></script>
</body>
</html>